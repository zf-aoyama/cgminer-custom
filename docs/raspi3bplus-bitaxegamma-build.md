# Raspberry Pi 3B+ \u3068 bitaxe Gamma \u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u3068\u30d3\u30eb\u30c9\u624b\u9806

bitaxe Gamma \u3092 USB \u30d6\u30ea\u30c3\u30b8\u7aef\u672b\u3068\u3057\u3066\u4f7f\u3046\u5834\u5408\u3001\u3053\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306b cgminer \u672c\u4f53\u3068 ESP32 \u7528\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u304c\u540c\u5b58\u3059\u308b\u5f62\u3068\u306a\u308a\u307e\u3059\u3002
以\u4e0b\u306b\u4e3b\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u3068\u30d3\u30eb\u30c9\u624b\u9806\u306e\u4e00\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002

## \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210

```text
cgminer-custom/
├─ firmware/
│  ├─ esp-miner/      \u2013 ESP-Miner \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2 (\u53c2\u8003)
│  └─ usb-bridge/     \u2013 USB \u30d6\u30ea\u30c3\u30b8\u7528\u65b0\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2
├─ reference/
│  ├─ ESP-Miner/      \u2013 \u5143\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30fc\u30c9
│  └─ bitaxeGamma/    \u2013 \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u8cc7\u6599
├─ docs/              \u2013 \u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u6587\u66f8
└─ (cgminer source)   \u2013 cgminer \u672c\u4f53
```

`firmware/esp-miner` \u306f `reference/ESP-Miner` \u3092\u4f7f\u3063\u305f ESP32 \u5411\u3051\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u7ba1\u7406\u7f60\u3067\u3059\u3002`firmware/usb-bridge` \u306b USB \u30d6\u30ea\u30c3\u30b8\u52d5\u4f5c\u306b\u5fc5\u8981\u306a\u30bd\u30fc\u30b9\u3092\u7f6e\u304d\u307e\u3059\u3002

## cgminer \u306e\u30d3\u30eb\u30c9

```bash
./autogen.sh
./configure --enable-bitaxe
make -j"$(nproc)"
```

## ESP-Miner \u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u30d3\u30eb\u30c9

ESP-IDF \u306e\u74b0\u5883\u3092\u6e96\u5099\u3057\u3066 `firmware/esp-miner` \u3067

```bash
idf.py build
```

## USB \u30d6\u30ea\u30c3\u30b8\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u306e\u30d3\u30eb\u30c9

`firmware/usb-bridge` \u3067\u540c\u3058\u304f ESP-IDF \u3092\u4f7f\u3044

```bash
idf.py build
```

USB \u30d6\u30ea\u30c3\u30b8\u7528\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u3092 ESP32 \u3078\u66f8\u304d\u8fbc\u3093\u3060\u5f8c\u3001Raspberry Pi \u306e cgminer \u304b\u3089 bitaxe Gamma \u3092\u5236\u5fa1\u3057\u307e\u3059\u3002
